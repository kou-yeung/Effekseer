% No03. 画像を表示してみよう！

<div class="main">

# No03. 画像を表示してみよう！

## 概要
本章では、パーティクルに画像を表示します。
今までは白い四角でしたが、白い四角が画像に変わります。
加えて、パーティクルが徐々に透明になったり、色が変わったりするようにします。

<div align="center">
<img src="../../img/Tutorial/03_blend.gif">
<p>本章で作成するエフェクト</p>
</div>

## 予備知識 - ウインドウを閉じてしまった、ウインドウの配置がおかしい場合

本章から様々なウインドウを操作します。
ウインドウを行き来していると、配置がおかしくなったり、閉じてしまうことがあります。
その時は、メニューバーの「ウインドウ」を選択します。
「ウインドウ位置を初期化」を選択すると、各ウインドウの位置を初期位置に戻します。
各ウインドウの名前を選択すると、そのウインドウを開けます。

## 画像の表示

自分で画像を用意するのは面倒なので、あらかじめ作成途中のエフェクトを下記のリンクからダウンロードできるようにしました。

<div align="center">
<a href = "../../Sample/03_01_Sample.zip">ダウンロード</a>
</div>

### 画像の設定

早速、白い四角に画像を設定します。
画像は、「描画共通」ウインドウから設定します。
初期設定では、このウインドウはノードをクリックして画面に表示されません。
右下のタブの「描画共通」をクリックします。

<div align="center">
<img src="../../img/Tutorial/03_tab_en.png">
<p>タブ</p>
</div>

「描画共通」をクリックした後、ノードをクリックすると、「描画共通」ウインドウが表示されます。

<div align="center">
<img src="../../img/Tutorial/03_rendercommon_en.png">
<p>「描画共通」ウインドウ</p>
</div>

「描画共通」ウインドウの画像にある読み込みボタンをクリックします。
クリックすると、画像を選択するためのウインドウが表示されます。
particle.pngを選択します。
選択するとEffekseerにも画像が表示されます。

<div align="center">
<img src="../../img/Tutorial/03_texture_en.png">
<p>画像を設定</p>
</div>

エフェクトを再生すると白い四角が画像に変わっていることがわかります。

<div align="center">
<img src="../../img/Tutorial/03_texture.gif">
<p>画像を設定</p>
</div>

### フェードイン、アウトの設定

パーティクルが突然、出現したり、消えたりするのは不自然です。
フェードイン、フェードアウトを設定して、透明度が変化するようにしましょう。

フェードインは「描画共通」ウインドウのフェードインの数値を変更することで設定できます。
同様にフェードアウトは「描画共通」ウインドウのフェードアウトの数値を変更することで設定できます。
今回は両方ともに15と入力します。

<div align="center">
<img src="../../img/Tutorial/03_fade_en.png">
<p>フェードを設定</p>
</div>

エフェクトが徐々に出現して、徐々に消えていくことがわかります。

<div align="center">
<img src="../../img/Tutorial/03_fade.gif">
<p>フェードを設定</p>
</div>

### スプライト

Effekseerには、複数の描画方法があります。
初期設定は「スプライト」です。四角いパーティクルを描画できます。
本章までに説明した内容のみでは難しいですが、このようなエフェクトを作成できます。

<div align="center">
<img src="../../img/Tutorial/03_sprite.png">
<p>スプライト</p>
</div>

「描画」ウインドウでは、現在、選択されている描画方法に特有の機能を設定できます。
先ほど「描画共通」ウインドウを表示したように、「描画」ウインドウを表示してみましょう。

<div align="center">
<img src="../../img/Tutorial/03_render_en.png">
<p>「描画」ウインドウ</p>
</div>

#### 頂点色の設定

フェードインでは透明度を設定できましたが、パーティクルの色は設定できませんでした。
画像がカラフルならば問題ないですが、パーティクルごとに色を変えるには画像を複数用意する必要が出てきてしまいます。
そのため、スプライトが選択されている場合に、パーティクルの大まかな色の傾向を指定できます。

その色は「描画」ウインドウで指定できます。色の指定方法も複数あります。
今回はパーティクルごとに色が変わるようにランダムを選択します。
そして、値の振幅に255を設定します。これは色が0から512の間でランダムに値が選択されることを意味しています。
ただ、実際は、色の最大値は255なので、0から255の間で値が選択されます。

<div align="center">
<img src="../../img/Tutorial/03_color_en.png">
<p>色を設定</p>
</div>

パーティクルごとに色が異なることがわかります。

<div align="center">
<img src="../../img/Tutorial/03_color.gif">
<p>色を設定</p>
</div>

### アルファブレンド

Effekseerでは、パーティクルのアルファブレンドの方法を設定できます。
アルファブレンドの方法とは、パーティクルと背景を合成する方法です。
下図で示したように、ただパーティクルを描画したり、背景と加算したりできます。

<div align="center">
<img src="../../img/Tutorial/03_blendmode.png">
<p>アルファブレンドモード</p>
</div>

今回はパーティクルを明るくするためにアルファブレンドの方法を加算に設定します。
「描画共通」ウインドウで、アルファブレンドの方法を設定できます。

<div align="center">
<img src="../../img/Tutorial/03_blend_en.png">
<p>ブレンドモード</p>
</div>

アルファブレンドの方法を加算にすると、パーティクルが明るく表示されていることがわかります。

<div align="center">
<img src="../../img/Tutorial/03_blend.gif">
<p>ブレンドを設定</p>
</div>

最後に、本章で作成されたエフェクトをダウンロードできるようにしてみました。

<div align="center">
<a href = "../../Sample/03_02_Sample.zip">ダウンロード</a>
</div>

## まとめ

本章では、スプライトのパラメーターを変更してパーティクルの見栄えを良くしました。
次章では、スプライトの形状や、パーティクルの回転、拡大について説明します。

</div>
